---
import { formatDate } from '../../utils/date';

interface Props {
  title: string;
  description: string;
  date: Date;
  tags: string[];
  slug: string;
  coverImage?: string;
}

const { title, description, date, tags, slug, coverImage } = Astro.props;
---

<article class="card h-full flex flex-col">
  {coverImage && (
    <a href={`/blog/${slug}`} class="block mb-4 no-underline">
      <img
        src={coverImage}
        alt={title}
        class="w-full h-48 object-cover rounded-lg"
        loading="lazy"
      />
    </a>
  )}
  
  <div class="flex-1 flex flex-col">
    <a href={`/blog/${slug}`} class="no-underline hover:no-underline">
      <h3 class="text-xl font-bold mb-2 hover:text-[rgb(var(--color-primary))] transition-colors">
        {title}
      </h3>
    </a>
    
    <time class="text-sm text-[rgb(var(--color-secondary))] mb-3">
      {formatDate(date)}
    </time>
    
    <p class="text-[rgb(var(--color-secondary))] mb-4 flex-1">
      {description}
    </p>
    
    {tags.length > 0 && (
      <div class="flex flex-wrap gap-2">
        {tags.map((tag) => (
          <a href={`/tags/${tag}`} class="tag text-xs no-underline hover:bg-[rgb(var(--color-border))] transition-colors">
            #{tag}
          </a>
        ))}
      </div>
    )}
  </div>
</article>
